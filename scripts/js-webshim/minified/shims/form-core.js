jQuery.webshims.gcEval=function(b,d){with(d&&d.form||window)with(d||window)return function(b){eval(b)}.call(d||window,b)};
(function(b){var d=window.Modernizr,g=b.webshims;if(d.formvalidation){var h=b('<form action="#"><select /><input type="date" required name="a" /></form>'),j=b("input",h);d.validationmessage=!0;if(window.opera){h.appendTo("head");g.bugs.validationMessage=!j.prop("validationMessage");try{j.prop("valueAsNumber",0)}catch(o){}g.bugs.valueAsNumberSet=j.prop("value")!="1970-01-01";h.remove()}d.requiredSelect=!!("required"in b("select",h)[0]);if(!("bugfreeformvalidation"in d))d.bugfreeformvalidation=d.formvalidation&&
d.requiredSelect&&!g.bugs.valueAsNumberSet&&!g.bugs.validationMessage&&(!b.browser.webkit||navigator.userAgent.indexOf("hrome")!=-1&&g.browserVersion>534.19)&&!window.testGoodWithFix;if(!d.bugfreeformvalidation)g.addPolyfill("form-native-fix",{feature:"forms",dependencies:["form-extend"]}),g.modules["form-extend"].test=b.noop;g.reTest(["form-extend","form-message","form-native-fix"]);g.isReady("form-number-date-api")&&g.reTest("form-number-date-api")}})(jQuery);
jQuery.webshims.register("form-core",function(b,d,g,h,j,o){var r={radio:1},p={checkbox:1,radio:1},s=b([]),k=function(a){var a=b(a),f=a[0].name;return r[a[0].type]&&f?b(a[0].form&&a[0].form[f]||h.getElementsByName(f)).not(a[0]):s},t=d.getContentValidationMessage=function(a,f){var c=a.getAttribute("x-moz-errormessage")||a.getAttribute("data-errormessage")||"";if(c&&c.indexOf("{")!=-1){try{c=jQuery.parseJSON(c)}catch(e){return c}typeof c=="object"&&(f=f||b.prop(a,"validity")||{valid:1},f.valid||b.each(f,
function(a,b){if(b&&a!="valid"&&c[a])return c=c[a],!1}));d.data(a,"contentErrorMessage",c);if(typeof c=="object")c=c.defaultMessage}return c||""},q={number:1,range:1,date:1,time:1,"datetime-local":1,datetime:1,month:1,week:1};b.extend(b.expr.filters,{"valid-element":function(a){return!(!b.prop(a,"willValidate")||!(b.prop(a,"validity")||{valid:1}).valid)},"invalid-element":function(a){return!(!b.prop(a,"willValidate")||(b.prop(a,"validity")||{valid:1}).valid)},"required-element":function(a){return!(!b.prop(a,
"willValidate")||!b.prop(a,"required"))},"optional-element":function(a){return!!(b.prop(a,"willValidate")&&b.prop(a,"required")===!1)},"in-range":function(a){if(!q[b.prop(a,"type")]||!b.prop(a,"willValidate"))return!1;a=b.prop(a,"validity");return!(!a||a.rangeOverflow||a.rangeUnderflow)},"out-of-range":function(a){if(!q[b.prop(a,"type")]||!b.prop(a,"willValidate"))return!1;a=b.prop(a,"validity");return!(!a||!a.rangeOverflow&&!a.rangeUnderflow)}});["valid","invalid","required","optional"].forEach(function(a){b.expr.filters[a]=
b.expr.filters[a+"-element"]});var u=b.prop,v={selectedIndex:1,value:1,checked:1,disabled:1,readonly:1};b.prop=function(a,f,c){var e=u.apply(this,arguments);if(a&&"form"in a&&v[f]&&c!==j&&b(a).hasClass("form-ui-invalid")&&(b.prop(a,"validity")||{valid:1}).valid)b(a).getShadowElement().removeClass("form-ui-invalid"),f=="checked"&&c&&k(a).removeClass("form-ui-invalid").removeAttr("aria-invalid");return e};var w=function(a,f){var c;b.each(a,function(a,d){if(d)return c=a=="customError"?b.prop(f,"validationMessage"):
a,!1});return c};b(h).bind("focusout change refreshvalidityui",function(a){if(a.target&&a.target.type!="submit"&&b.prop(a.target,"willValidate")){var d=b.data(a.target,"webshimsswitchvalidityclass");d&&clearTimeout(d);b.data(a.target,"webshimsswitchvalidityclass",setTimeout(function(){var c=b(a.target).getNativeElement()[0],e=b.prop(c,"validity"),d=b(c).getShadowElement(),f,h,n,m;e.valid?d.hasClass("form-ui-valid")||(f="form-ui-valid",h="form-ui-invalid",m="changedvaliditystate",n="changedvalid",
p[c.type]&&c.checked&&k(c).removeClass(h).addClass(f).removeAttr("aria-invalid"),b.removeData(c,"webshimsinvalidcause")):(e=w(e,c),b.data(c,"webshimsinvalidcause")!=e&&(b.data(c,"webshimsinvalidcause",e),m="changedvaliditystate"),d.hasClass("form-ui-invalid")||(f="form-ui-invalid",h="form-ui-valid",p[c.type]&&!c.checked&&k(c).removeClass(h).addClass(f),n="changedinvalid"));f&&(d.addClass(f).removeClass(h),setTimeout(function(){b(c).trigger(n)},0));m&&setTimeout(function(){b(c).trigger(m)},0);b.removeData(a.target,
"webshimsswitchvalidityclass")},9))}});d.triggerInlineForm=function(a,f){a.jquery&&(a=a[0]);var c="on"+f,e=a[c]||a.getAttribute(c)||"",h,g,f=b.Event({type:f,target:a,currentTarget:a});e&&typeof e=="string"&&(g=d.gcEval(e,a),a[c]&&(h=!0,a[c]=!1));g===!1&&(f.stopPropagation(),f.preventDefault());b(a).trigger(f);h&&(a[c]=e);return g};g=function(){d.scrollRoot=b.browser.webkit||h.compatMode=="BackCompat"?b(h.body):b(h.documentElement)};g();d.ready("DOM",g);d.validityAlert=function(){var a=!b.browser.msie||
parseInt(b.browser.version,10)>7?"span":"label",f={top:0,left:0},c={hideDelay:5E3,getBodyOffset:function(){f=e.offset()},showFor:function(a,d,f,h){c._create();var a=b(a),i=b(a).getShadowElement(),l=c.getOffsetFromBody(i);c.clear();h?this.hide():(this.getMessage(a,d),this.position(i,l),e.css({fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily")}),this.show(),this.hideDelay&&(g=setTimeout(j,this.hideDelay)));f||this.setFocus(i,l)},getOffsetFromBody:function(a){a=b(a).offset();b.swap(e[0],{visibility:"hidden",
display:"inline-block",left:0,top:0},c.getBodyOffset);a.top-=f.top;a.left-=f.left;return a},setFocus:function(c,f){var g=b(c).getShadowFocusElement(),i=d.scrollRoot.scrollTop(),k=(f||g.offset()).top-30,l;d.getID&&a=="label"&&e.attr("for",d.getID(g));i>k&&(d.scrollRoot.animate({scrollTop:k-5},{queue:!1,duration:Math.max(Math.min(600,(i-k)*1.5),80)}),l=!0);try{g[0].focus()}catch(x){}l&&(d.scrollRoot.scrollTop(i),setTimeout(function(){d.scrollRoot.scrollTop(i)},0));setTimeout(function(){b(h).bind("focusout.validityalert",
j)},10)},getMessage:function(a,c){b("span.va-box",e).text(c||t(a[0])||a.prop("validationMessage"))},position:function(a,d){d=d?b.extend({},d):c.getOffsetFromBody(a);d.top+=a.outerHeight();e.css(d)},show:function(){e.css("display")==="none"&&e.css({opacity:0}).show();e.addClass("va-visible").fadeTo(400,1)},hide:function(){e.removeClass("va-visible").fadeOut()},clear:function(){clearTimeout(i);clearTimeout(g);b(h).unbind("focusout.validityalert");e.stop().removeAttr("for")},_create:function(){if(!e)e=
c.errorBubble=b("<"+a+' class="validity-alert-wrapper" role="alert"><span  class="validity-alert"><span class="va-arrow"><span class="va-arrow-box"></span></span><span class="va-box"></span></span></'+a+">").css({position:"absolute",display:"none"}),d.ready("DOM",function(){e.appendTo("body");b.fn.bgIframe&&b.browser.msie&&parseInt(b.browser.version,10)<7&&e.bgIframe()})}},e,g=!1,i=!1,j=b.proxy(c,"hide");return c}();(function(){var a,d=[],c;b(h).bind("invalid",function(e){if(!e.wrongWebkitInvalid){var g=
b(e.target),i=g.getShadowElement();i.hasClass("form-ui-invalid")||(i.addClass("form-ui-invalid").removeClass("form-ui-valid"),setTimeout(function(){b(e.target).trigger("changedinvalid").trigger("changedvaliditystate")},0));if(!a)a=b.Event("firstinvalid"),a.isInvalidUIPrevented=e.isDefaultPrevented,i=b.Event("firstinvalidsystem"),b(h).triggerHandler(i,{element:e.target,form:e.target.form,isInvalidUIPrevented:e.isDefaultPrevented}),g.trigger(a);a&&a.isDefaultPrevented()&&e.preventDefault();d.push(e.target);
e.extraData="fix";clearTimeout(c);c=setTimeout(function(){var c={type:"lastinvalid",cancelable:!1,invalidlist:b(d)};a=!1;d=[];b(e.target).trigger(c,c)},9);i=g=null}})})();o.replaceValidationUI&&d.ready("DOM",function(){b(h).bind("firstinvalid",function(a){a.isInvalidUIPrevented()||(a.preventDefault(),b.webshims.validityAlert.showFor(a.target,b(a.target).prop("customValidationMessage")))})})});
